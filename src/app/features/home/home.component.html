<app-header></app-header>
<div [class.dark-theme]="isDark" [class.light-theme]="!isDark" class="home-wrapper">

  <section class="hero-section">
    <div class="container">
      <div class="hero-content">
        <h1 class="hero-title">
          Stacked Deck
          <br />
          <span class="subtitle-mode">The Underground Marketplace</span>
        </h1>

        <p class="hero-subtitle">
          The game is rigged in your favor. Secure the rarest assets,
          seize the power, and leave fair play to the others.
        </p>
        <div class="hero-actions">
          <button class="btn btn-primary" [routerLink]="['/products']" [queryParams]="{type: 'SINGLE'}">
            <span>Browse Collection</span>
          </button>
          <button class="btn btn-secondary" routerLink="/new-releases">
            New Releases
          </button>
        </div>
      </div>

      <div class="hero-visual">
        <div class="card-showcase">
          <img src="/assets/cards/mewtwo.jpg" alt="Featured Card 1" class="showcase-card card-1">
          <img src="/assets/cards/umbreon.jpg" alt="Featured Card 2" class="showcase-card card-2">
          <img src="/assets/cards/charizard.jpg" alt="Featured Card 3" class="showcase-card card-3">
        </div>
      </div>
    </div>
  </section>

  <section class="categories-section">
    <div class="container">
      <div class="section-header">
        <h2 class="section-title">Shop by Category</h2>
        <p class="section-subtitle">Find exactly what you are looking for</p>
      </div>

      <div class="product-type-grid">
        <a
          *ngFor="let type of productTypes"
          [routerLink]="['/products']"
          [queryParams]="{type: type.typeCode}"
          class="type-card"
        >
          <div class="type-image-wrapper">
            <img [src]="type.image" [alt]="type.label" class="type-image">
            <div class="type-overlay"></div>
          </div>
          <div class="type-content">
            <h3 class="type-name">{{ type.label }}</h3>
            <p class="type-desc">{{ type.description }}</p>
            <div class="type-arrow">
              <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M5 12h14"/><path d="m12 5 7 7-7 7"/></svg>
            </div>
          </div>
        </a>
      </div>
    </div>
  </section>

  <section class="vault-section">
    <div class="vault-animated-bg"></div>
    <div class="container full-width-mobile">
      <div class="section-header">
        <h2 class="section-title">The <span class="accent-text">Vault</span> Selection</h2>
        <p class="section-subtitle">Exclusive cards available for immediate extraction.</p>
      </div>

      <div class="carousel-wrapper" *ngIf="featuredCards.length > 0">

        <div class="fade-mask left"></div>
        <div class="fade-mask right"></div>

        <swiper-container
          class="vault-swiper"
          effect="coverflow"
          grab-cursor="true"
          centered-slides="true"
          slides-per-view="auto"
          initial-slide="2"
          loop="true"
          looped-slides="10"

          navigation="true"
          pagination="false"

          coverflow-effect-rotate="15"
          coverflow-effect-stretch="50"
          coverflow-effect-depth="200"
          coverflow-effect-modifier="1"
          coverflow-effect-slide-shadows="false"

          autoplay="true"
          autoplay-delay="3000"
          autoplay-disable-on-interaction="false"
          autoplay-pause-on-mouse-enter="true"
          speed="800"
        >
          <swiper-slide *ngFor="let card of featuredCards">
            <div class="vault-card" [routerLink]="['/products', card.slug]">

              <div class="vault-image-wrapper">
                <img [src]="card.image || '/assets/placeholder-card.png'" [alt]="card.name" class="vault-image" loading="lazy">
                <div class="glow-effect"></div>

                <div class="rarity-badge" [style.background-color]="getRarityColor(card.rarity)">
                  {{ card.rarity }}
                </div>
              </div>

              <div class="vault-info">
                <h3 class="vault-name">{{ card.name }}</h3>
                <div class="vault-details">
                  <span class="vault-set">{{ card.categoryName || 'TCG Set' }}</span>
                  <span class="vault-price">{{ (card.price / 100) | currency:'CAD':'symbol':'1.2-2' }}</span>
                </div>
                <button class="btn-inspect">Inspect</button>
              </div>

            </div>
          </swiper-slide>
        </swiper-container>
      </div>

      <div class="view-all-wrapper">
        <button class="btn btn-outline" routerLink="/products">
          Access Full Inventory
          <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <path d="m9 18 6-6-6-6"/>
          </svg>
        </button>
      </div>
    </div>
  </section>

  <section class="cta-section">
    <div class="container">
      <div class="cta-content">
        <h2 class="cta-title">Ready to start your collection?</h2>
        <p class="cta-subtitle">Join thousands of collectors and find your dream cards today</p>
        <button class="btn btn-primary btn-large" routerLink="/auth/register">
          Get Started
          <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <path d="m9 18 6-6-6-6"/>
          </svg>
        </button>
      </div>
    </div>
  </section>
</div>
<app-footer></app-footer>
